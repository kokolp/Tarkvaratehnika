{"version":3,"sources":["app.js","authConfig.js","environment.js","kalkulaator.js","line.js","login.js","main.js","root.js","resources/index.js"],"names":["App","fetchConfig","configureRouter","config","router","configure","title","map","route","moduleId","nav","configForDevelopment","providers","google","clientId","linkedin","facebook","loginUrl","configForProduction","window","location","hostname","debug","testing","Kalkulaator","lines","expected","outcome","income","remainder","actual","initFields","name","expectedSum","actualSum","type","addLine","line","parseFloat","push","calculate","removeLine","index","indexOf","splice","Line","Login","auth","userData","error","register","toggleRegister","addUser","password","password2","client","fetch","then","response","json","loginUser","login","email","console","log","catch","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","plugin","baseConfig","developmentLogging","start","setRoot","Root"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {inject} from 'aurelia-framework';\nimport {FetchConfig} from 'aurelia-auth';\n\n@inject(FetchConfig)\nexport class App {\n  constructor(fetchConfig) {\n    this.fetchConfig = fetchConfig;\n  }\n\n  configureRouter(config, router) {\n    this.router = router;\n    this.fetchConfig.configure();\n    config.title = 'Rahaplaneerija'\n\n  \tconfig.map([\n  \t\t{\n  \t\t\troute: [\"\", \"root\"],\n  \t\t\tmoduleId: \"root\",\n  \t\t\ttitle: \"Rahaplaneerija\",\n  \t\t\tnav: true\n  \t\t},\n  \t\t{\n  \t\t\troute: \"kalkulaator\",\n  \t\t\tmoduleId: \"kalkulaator\",\n  \t\t\ttitle: \"Eelarve kalkulaator\",\n  \t\t\tnav: true\n  \t\t},\n      {\n        route: \"login\",\n        moduleId: \"login\",\n        title: \"Logi sisse\",\n        nav: true\n      },\n  \t])\n  } \n}\n","var configForDevelopment = {\n    providers: {\n        google: {\n            clientId: '239531826023-ibk10mb9p7ull54j55a61og5lvnjrff6.apps.googleusercontent.com'\n        }\n        ,\n        linkedin:{\n            clientId:'778mif8zyqbei7'\n        },\n        facebook:{\n            clientId:'1452782111708498'\n        }\n    },\n    loginUrl: 'http://localhost:8080/login',\n\n};\n\nvar configForProduction = {\n    providers: {\n        google: {\n            clientId: '239531826023-3ludu3934rmcra3oqscc1gid3l9o497i.apps.googleusercontent.com'\n        }\n        ,\n        linkedin:{\n            clientId:'7561959vdub4x1'\n        },\n        facebook:{\n            clientId:'1653908914832509'\n        }\n\n    }\n};\nvar config ;\nif (window.location.hostname==='localhost') {\n    config = configForDevelopment;\n}\nelse{\n    config = configForProduction;\n}\n\n\nexport default config;","export default {\n  debug: true,\n  testing: true\n};\n","import { Line } from './line';\n\nexport class Kalkulaator {\n\tconstructor() {\n\t\tthis.lines = [];\n\t\tthis.expected = {\n\t\t\toutcome: 0,\n\t\t\tincome: 0,\n\t\t\tremainder: 0\n\t\t};\n\n\t\tthis.actual = {\n\t\t\toutcome: 0,\n\t\t\tincome: 0,\n\t\t\tremainder: 0\n\t\t};\n\t\tthis.initFields();\n\t}\n\n\tinitFields() {\n\t\tthis.name = '';\n\t\tthis.expectedSum = '';\n\t\tthis.actualSum = '';\n\t\tthis.type = 'Kulu';\n\t}\n\n\taddLine() {\n\t\tconst line = new Line(this.name, parseFloat(this.expectedSum), parseFloat(this.actualSum), this.type);\n\t\tthis.lines.push(line);\n\t\tthis.initFields();\n\t\tthis.calculate(line);\n\t}\n\n\tremoveLine(line) {\n\t\tconst index = this.lines.indexOf(line);\n\t\tif (index !== -1) {\n\t\t\tthis.lines.splice(index, 1);\n\t\t\tline.expectedSum = -line.expectedSum;\n\t\t\tline.actualSum = -line.actualSum;\n\t\t\tthis.calculate(line);\n\t\t}\n\t}\n\n\tcalculate(line) {\n\t\tif (line.type === 'Kulu') {\n\t\t\tthis.expected.outcome += line.expectedSum;\n\t\t\tthis.actual.outcome += line.actualSum;\n\t\t} else {\n\t\t\tthis.expected.income += line.expectedSum;\n\t\t\tthis.actual.income += line.actualSum;\n\t\t}\n\t\tthis.expected.remainder = this.expected.income - this.expected.outcome;\n\t\tthis.actual.remainder = this.actual.income - this.actual.outcome;\n\t}\n}","export class Line {\n\tconstructor(name, expectedSum, actualSum, type) {\n\t\tthis.name = name;\n\t\tthis.expectedSum = expectedSum;\n\t\tthis.actualSum = actualSum;\n\t\tthis.type = type;\n\t}\n}","import {HttpClient, json} from 'aurelia-fetch-client';\nimport {inject} from 'aurelia-framework';\nimport {AuthService} from 'aurelia-auth';\n\n@inject(AuthService)\nexport class Login {\n\tconstructor(auth){\n\t\tthis.register = false;\n\t\tthis.auth = auth;\n\t}\n\n\ttoggleRegister(){\n\t\tthis.register = true;\n\t}\n\t\n\tuserData = {}\n\terror = null\n\taddUser() {\n\t\tif(this.userData.password!= this.userData.password2) {\n\t\t\tthis.error = true;\n\t\t\treturn \n\t\t}\n\n\t\tlet client = new HttpClient();\n\n\t\tclient.fetch('http://localhost:8080/users/add', {\n\t\t\t'method': 'POST',\n\t\t\t'body': json(this.userData)\n\t\t})\n\t\t.then(response => response.json())\n\t} \n\n\tloginUser() {\n        return this.auth.login(this.userData.email, this.userData.password)\n        .then(response=> console.log(\"success logged \" + response))\n        .catch(err=> console.log(\"login failure\"));\n    \n\t}\n}\n\n","import environment from './environment';\nimport config from './authConfig';\n\n//Configure Bluebird Promises.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources')\n    .plugin('aurelia-auth', (baseConfig)=>{\n         baseConfig.configure(config);\n    });\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export class Root {\n\t\n}","export function configure(config) {\n  //config.globalResources([]);\n}\n"],"sourceRoot":".."}